- name: Add Neovim PPA Repository
  become: true
  shell: "add-apt-repository -y ppa:neovim-ppa/unstable"

- name: Install Neovim
  become: true
  shell: "apt-get update && apt-get install -y neovim"

- name: Create Packer directory
  file:
    path: "/home/{{ ansible_user }}/.local/share/nvim/site/pack/packer/start/packer.nvim"
    state: directory

- name: Clone Packer
  git:
    repo: "https://github.com/wbthomason/packer.nvim"
    dest: "/home/{{ ansible_user }}/.local/share/nvim/site/pack/packer/start/packer.nvim"
    version: master
